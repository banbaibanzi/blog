import{_ as i,c as t,m as s,a,a4 as e,o as p}from"./chunks/framework.VBoxuglN.js";const v=JSON.parse('{"title":"pnpm","description":"","frontmatter":{},"headers":[],"relativePath":"frontend/command/pnpm.md","filePath":"frontend/command/pnpm.md","lastUpdated":1710816848000}'),n={name:"frontend/command/pnpm.md"},d=s("h1",{id:"pnpm",tabindex:"-1"},[a("pnpm "),s("a",{class:"header-anchor",href:"#pnpm","aria-label":'Permalink to "pnpm"'},"​")],-1),l={href:"https://pnpm.io/zh/",target:"_blank",ref:"noreferrer"},h=e(`<h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><h3 id="_1-window" tabindex="-1">1. window <a class="header-anchor" href="#_1-window" aria-label="Permalink to &quot;1. window&quot;">​</a></h3><p>使用 PowerShell：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>iwr https://get.pnpm.io/install.ps1 -useb | iex</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>默认安装在C盘，建议安装完成后运行 <code>where pnpm</code> 或 <code>pnpm root -g</code> 查看pnpm路径，将pnpm目录移入指定位置，如 <code>D:\\xxx\\pnpm</code> ,并修改环境变量。</p></div><p>示例：</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">默认环境变量：  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PNPM_HOME</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> C</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:\\Users\\xxx\\AppData\\Local\\pnpm</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">修改后环境变量：</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PNPM_HOME</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> D</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:\\xxx\\pnpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-npm" tabindex="-1">2. npm <a class="header-anchor" href="#_2-npm" aria-label="Permalink to &quot;2. npm&quot;">​</a></h3><p>普通版本，需要 Node.js 运行</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>独立版本，与 Node.js 一起打包成可执行文件，因此它可以在没有安装 Node.js 的系统上使用。</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @pnpm/exe</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to &quot;配置&quot;">​</a></h2><p>全局仓库路径(类似 .git 仓库)</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pnpm config set store</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dir </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">H</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:\\dev_tools\\pnpm\\.pnpm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">store</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>全局安装路径</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pnpm config set global</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dir </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">H</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:\\dev_tools\\pnpm\\.pnpm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">global</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>全局bin路径</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pnpm config set global</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dir </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">H</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:\\dev_tools\\pnpm\\.pnpm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dir</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>创建pnpm-state.json文件的目录</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pnpm config set state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dir </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">H</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:\\dev_tools\\pnpm\\.pnpm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">state</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>全局缓存路径</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pnpm config set cache</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dir </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">H</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:\\dev_tools\\pnpm\\.pnpm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cache</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>配置环境变量</p><p>在 <code>path</code> 环境变量中添加配置 <code>pnpm</code> 全局 <code>bin</code></p><p>示例：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>H:\\dev_tools\\pnpm\\.pnpm-bin-dir</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="常用命令" tabindex="-1">常用命令 <a class="header-anchor" href="#常用命令" aria-label="Permalink to &quot;常用命令&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>config——别名：c</p><p>install——别名：i</p><p>list——别名：ls</p><p>global——别名：g</p><p>remove——别名: rm, uninstall, un</p></div><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>pnpm -v</td><td>查看版本</td></tr><tr><td>pnpm config list</td><td>配置项</td></tr><tr><td>pnpm install</td><td>用于安装项目所有依赖</td></tr><tr><td>pnpm list</td><td>此命令会以一个树形结构输出所有的已安装package的版本及其依赖</td></tr><tr><td>pnpm remove</td><td>从 <code>node_modules</code> 和项目的 <code>package.json</code> 中删除相关 <code>packages</code></td></tr></tbody></table><h3 id="pnpm-add-pkg" tabindex="-1">pnpm add [pkg] <a class="header-anchor" href="#pnpm-add-pkg" aria-label="Permalink to &quot;pnpm add [pkg]&quot;">​</a></h3><p>安装软件包及其依赖的所有软件包。 默认情况下，任何新软件包都安装为生产依赖项。</p><blockquote><p>[pkg] 代表依赖</p></blockquote><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>pnpm add -g pnpm to update</td><td>升级版本（待测试）</td></tr><tr><td>pnpm add [pkg]</td><td>保存到 dependencies</td></tr><tr><td>pnpm add [pkg] -D</td><td>保存到 devDependencies</td></tr><tr><td>pnpm add [pkg] -O</td><td>保存到 optionalDependencies</td></tr><tr><td>pnpm add [pkg]@next</td><td>从 next 标签下安装</td></tr><tr><td>pnpm add [pkg]@3.0.0</td><td>安装指定版本 3.0.0</td></tr></tbody></table><h3 id="pnpm-update" tabindex="-1">pnpm update <a class="header-anchor" href="#pnpm-update" aria-label="Permalink to &quot;pnpm update&quot;">​</a></h3><p>别名： up, upgrade</p><p><code>pnpm update</code> 根据指定的范围更新软件包的最新版本。 在不带参数的情况下使用时，将更新所有依赖关系。</p><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>pnpm up</td><td>遵循 package.json 指定的范围更新所有的依赖项</td></tr><tr><td>pnpm up --latest</td><td>将所有依赖项更新到最新版本</td></tr><tr><td>pnpm up foo@2</td><td>将 foo 更新到 v2 上的最新版本</td></tr><tr><td>pnpm up &quot;@babel/*&quot;</td><td>更新 @babel 范围内的所有依赖项</td></tr></tbody></table><h3 id="node-js版本管理" tabindex="-1">Node.js版本管理 <a class="header-anchor" href="#node-js版本管理" aria-label="Permalink to &quot;Node.js版本管理&quot;">​</a></h3><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>pnpm env use --global lts</td><td>LTS(稳定) 版本</td></tr><tr><td>pnpm env use --global 16</td><td>安装 Node.js v16</td></tr><tr><td>pnpm env use --global latest</td><td>安装最新版本的 Node.js</td></tr><tr><td>pnpm env remove --global 14.0.0</td><td>移除指定版本的 Node.JS</td></tr><tr><td>pnpm env remove --global 14.0.0 16.2.3</td><td>移除多个指定版本的 Node.JS</td></tr><tr><td>pnpm env list</td><td>输出本地安装的版本</td></tr><tr><td>pnpm env list --remote</td><td>输出远程可用的 Node.js 版本</td></tr><tr><td>pnpm env list --remote 16</td><td>输出远程可用的 Node.js 16 版本</td></tr><tr><td>pnpm env add --global lts 20.0.1</td><td>安装指定版本的 Node.js，而不将其激活为当前版本</td></tr><tr><td>pnpm env remove --global 14.0.0</td><td>移除指定版本的 Node.JS</td></tr></tbody></table><h2 id="问题" tabindex="-1">问题 <a class="header-anchor" href="#问题" aria-label="Permalink to &quot;问题&quot;">​</a></h2><h3 id="_1-pnpm无法加载文件" tabindex="-1">1. pnpm无法加载文件 <a class="header-anchor" href="#_1-pnpm无法加载文件" aria-label="Permalink to &quot;1. pnpm无法加载文件&quot;">​</a></h3><p>管理员打开powershell，运行以下命令即可。</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-executionpolicy </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">remotesigned</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="卸载" tabindex="-1">卸载 <a class="header-anchor" href="#卸载" aria-label="Permalink to &quot;卸载&quot;">​</a></h2><p>找到全局目录的位置并手动删除 <code>pnpm</code> 目录。</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>示例</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>C:\\Users\\xxx\\AppData\\Local\\pnpm\\global\\5\\node_modules</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,49);function r(o,k,c,m,g,b){return p(),t("div",null,[d,s("p",null,[a("文档链接："),s("a",l,"pnpm文档",512)]),h])}const E=i(n,[["render",r]]);export{v as __pageData,E as default};
